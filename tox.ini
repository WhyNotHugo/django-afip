[tox]
envlist = py34, py35, flake8, isort
skipsdist = True

[testenv]
skip_install = True
deps =
  coverage
  -rrequirements.txt
commands =
  python setup.py build
  coverage run --source django_afip testapp/manage.py test testapp
  coverage report

[testenv:flake8]
skip_install = True
deps = flake8
commands = flake8

[testenv:isort]
skip_install = True
deps = isort
commands = isort --recursive --diff --check-only

[testenv:docs]
deps =
  -rrequirements-docs.txt
commands =
  python setup.py build
  make -C docs html
setenv =
  PYTHONPATH={toxinidir}
whitelist_externals =
  make

[flake8]
exclude=.tox,build,docs,migrations
